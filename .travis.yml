language: node_js
node_js:
- '6'

dist: trusty
sudo: required

addons:
  apt:
    sources:
    - google-chrome
    packages:
    - google-chrome-stable

cache: yarn

before_install:
  - curl -o- -L https://yarnpkg.com/install.sh | bash
  - export PATH=$HOME/.yarn/bin:$PATH
  - "export DISPLAY=:99.0"
  - "sh -e /etc/init.d/xvfb start"
  - "npm config set spin false"

install:
  - yarn install
  - bower install
  - yarn run sync-docs

script:
- yarn test

deploy:
  provider: heroku
  app:
    master: ember-v-api-docs-staging
    production: ember-api-docs
  api_key:
    secure: IJlh2J/Q13CtUGhUAcGTbz2pVfTa2Dm8uuSKqgB+q1CUNv5GoshUHmU9VInVr40XpqAUcBoUpQw18AA5FD9bT1PN8V5xYQZgLaPtDs126mg9agyzijJgfHolNOEjaZveQy7PmcCY73CoLqf/3gNwn6MIL4ZotY39t3zpAy3LwdWojJeOH+D8s6EklA7tE2VzUKjCtTtl9YT4GJqIh66pedAORCZFfZtC1Qgg7E++0zye+w28GTH/5XqlzIDUjfdG3TH2VdkBNCLoag9CknQcbV8Iq0Eno/Ihdrp8fZcG2o1PRZRMIhlGfQJA8F+8CHrqjl1RyinYYcbImGpgVTP/b8kRLJXRhhLU3PnGSEdDen9W5YTB5ljsxhQ+iS/xch7Llj2ZXKEPUaC9P3E6Ds9ExFh29YAzes4xJGsmSS0z5iJNXsGfazrLkCe/Lg5/7Ys/mA7sZI7rJ7yvFPRUPKn5bmfNqpgN/I1/avqkK34KgKioiAnRvtPDkX2ccADHDSgDc1lrDgQfJt2Tiz2g/93CFpaRWRhp7ptvD193gONBUa4D3NMpawchGHDzqUGt5oKEV/ggEtoRo1HJzmX3UwHU3QjARcMTZYsS3zlc1czmLCyNK8Ye6sGdtV7no07ePOnvsUE95ePGbsy9J/GVqksvyuhM+ApwQuHYgX3t7i+EeoQ=
env:
  global:
  - CXX=g++-4.8
  - secure: Y6NXDIe9kRqT7oGNV2X04if+F8vBLCT4UJq67asDlVvkoAV3uq7+H4+p1cnEYtStDpAUuowLC4oZnJ8GjIFNGUTlqKv55rYvOsDXYxfY8IRL2L6LhmcMGA9/qHSWeWCYRN8W618uacUyj4ltSJ4vWXbABnukVmSm2tJ6GmPU6rzXifBYsXjDJ8M2S8IY+GDbjrYxT6T9lWkdFk7qy/u9PdQ9KX37q96l+t0OrOEkYDEVsgOLJWJhJRHrOsAVcqBAwZuXI5vK+SU2mPQ4ScYk54jMALVrPkx97OahhOwhaZMsyZgV4uehi1A+KPIz73pplhmHXfty3/204Li9GyXjxSlRpYMDaWNoGkQEsqVMjUR0ETDy1Ym+WrEZ+iAHb/DSmPj3WoxFdZZ5DB9clZ6giC8ymyE1ZlHX+dLtUQh+q31idpdkCXaT5VEBiozlPQJt/GX8UXpJQsj73PcL1zNgikN3EZSzEamCHcDofUHBL+V8sCHyw27emAcqghQee2+Dj6U1RlkKUsMTgujE6xoLqbOTLyBcvKhK+S1lc0++jMfOjR/4jewuKmdhQ2KClLIWE3Bz8s9NqrHL3+8ahPak4vKvaL0OgDiIdiGkVkVKbVqad7rMPD8P/p3bC4LQVkUTPoZWqT9XjWWx/yH7JD4fEV5zO0ckENkxBWo22xSyBAo=
  - secure: YP+ru6ZRq5d70AXFRvAq6gCA3/SRY/tqxnLXhdV0r0xKgxXO8atgiOgkEKTKyRXyfRZWvxhZQyIfHjh9u6bAXAW6Bq1ds73kaZ7RxBy8HeV4A/L+x7R0z6K+W5s+lizyJLpkAkgafHQVcCVFQRGEqi8KO2+0RyMaUejVG06kUewIXoMBWEdNxbHtLTIOIBkwyU80z+ywQsJMUDreyDpegjhnQ+Kz1rvCSIFeq8QOgyqZ3VehgKf+6P1PPL07mtXtMui2b4g22xvMSsf8JEoLOz/WXCeBukTPy9x1u8+hMGD1EWJttfGSwOg4ajLIyrUYoLsb33rPTJKxGCBDwjHxCxEwJClCVbu/MvnElNrKn3spi3UiPSbZpacX0KwqBbPtTSXxnRaxRy6hn7emp+E6cmuZezSA2W3z4az8YdzTw35/KPRhvcsz/jo3RqZa8mR41Gw2mIJSP/lnrohIEmymA411F5qP+Cxh/pWuakH+NVfvqPvvLsmLsF0KVdEu5c6w7b1N3FlIgJ/ybbYMILCi+KDiGIsibZxaUkD/YLgW5g9xKah+jxseASz3T+QNuq6KjpTzKsnVjtcOhYg21aMm5S2lc0cMn54BlkjP3uhJvUkVNthOS5zJh9p0+ztoySgRcNzjihSHFWjePM0CUv6KrZot1XozRSIs5Yj++NObvJc=
